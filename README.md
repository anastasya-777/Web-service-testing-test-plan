# Тест-план для дипломного проекта по автоматизации тестирования веб-сервиса
## 1. Введение
#### Данный тест-план описывает процесс автоматизации тестирования веб-сервиса, который взаимодействует с СУБД и API банков для покупки туров. Цель проекта — автоматизация позитивных и негативных сценариев покупки тура с использованием дебетовых и кредитных карт.

## 2. Перечень автоматизируемых сценариев
### Валидные данные:

#### Номер карты: количество цифр 16 (4444 4444 4444 4441);
#### Фамилия и Имя владельца карты: только латинские буквы,2 слова (Ivanov Ivan);
#### Срок действия карты: месяц/год (07/26);
#### CVV код: количество цифр 3 (123);

### Не валидные данные:

#### Номер карты: количество цифр 16 (4444 4444 4444 4442);
#### Фамилия и Имя владельца карты: только латинские буквы,2 слова (Ivanov Ivan);
#### Срок действия карты: месяц/год (07/26);
#### CVV код: количество цифр 3 (123);

### Позитивные сценарии ( оплата тура дебитовой картой ):  

##### 1.Валидный номер дебетовой карты, валидные данные владельца карты, валидный срок действия карты, валидный CVV код. Нажать кнопку “продолжить”. Ожидаемый результат: успешная оплата тура.

##### 2.Повторная попытка оплаты тура: валидный номер дебетовой карты, валидные данные владельца карты, валидный срок действия карты, валидный CVV код. Нажать кнопку “продолжить”. Ожидаемый результат: успешная оплата тура.

##### 3.Оплата тура с помощью дебетовой карты с достаточным балансом: валидный номер дебетовой карты, валидные данные владельца карты, валидный срок действия карты, валидный CVV код. Нажать кнопку “продолжить”. Ожидаемый результат: успешная оплата тура.

##### 4.Оплата тура с помощью дебетовой карты с недостаточным балансом, но с возможностью списания средств: валидный номер дебетовой карты, валидные данные владельца карты, валидный срок действия карты, валидный CVV код. Нажать кнопку “продолжить”. Ожидаемый результат: успешная оплата тура.

##### 5.Оплата тура с помощью дебетовой карты с ограничениями на проведение операций: валидный номер дебетовой карты, валидные данные владельца карты, валидный срок действия карты, валидный CVV код. Нажать кнопку “продолжить”. Ожидаемый результат: успешная оплата тура.

##### 6.Валидный номер дебетовой карты, валидные данные владельца карты, валидный срок действия карты, валидный CVV код, оплата тура с помощью дебетовой карты с предоплатой. Нажать кнопку “продолжить”. Ожидаемый результат: успешная оплата тура.

##### 7.Оплата тура с переводом средств с другой дебетовой карты на текущую карту: валидный номер дебетовой карты, валидные данные владельца карты, валидный срок действия карты, валидный CVV код. Нажать кнопку “продолжить”. Ожидаемый результат: успешная оплата тура.


### Позитивные сценарии (оплата тура кредитной картой):

##### 1.Валидный номер кредитной карты, валидные данные владельца карты, валидный срок действия карты, валидный CVV код. Нажать кнопку “продолжить”. Ожидаемый результат: успешная оплата тура.

##### 2.Повторная попытка оплаты тура: валидный номер кредитной карты, валидные данные владельца карты, валидный срок действия карты, валидный CVV код. Нажать кнопку “продолжить”. Ожидаемый результат: успешная оплата тура.

##### 3.Оплата тура с помощью кредитной карты с достаточным лимитом: валидный номер кредитной карты, валидные данные владельца карты, валидный срок действия карты, валидный CVV код. Нажать кнопку “продолжить”. Ожидаемый результат: успешная оплата тура.

##### 4.Оплата тура с помощью кредитной карты с недостаточным лимитом, но с возможностью превышения лимита: валидный номер кредитной карты, валидные данные владельца карты, валидный срок действия карты, валидный CVV код,. Нажать кнопку “продолжить”. Ожидаемый результат: успешная оплата тура.

##### 5.Оплата тура с помощью кредитной карты с ограничениями на проведение операций: валидный номер кредитной карты, валидные данные владельца карты, валидный срок действия карты, валидный CVV код. Нажать кнопку “продолжить”. Ожидаемый результат: успешная оплата тура.

##### 6.Оплата тура с переводом средств с другой кредитной карты на текущую карту: валидный номер кредитной карты, валидные данные владельца карты, валидный срок действия карты, валидный CVV код. Нажать кнопку “продолжить”. Ожидаемый результат: успешная оплата тура.

##### 7.Повторная попытка оплаты тура с переводом средств с другой кредитной карты: валидный номер кредитной карты, валидные данные владельца карты, валидный срок действия карты, валидный CVV код. Нажать кнопку “продолжить”. Ожидаемый результат: успешная оплата тура.


### Негативные сценарии ( валидации дебитовой карты ):  

##### 1.Попытка оплаты тура по несуществующему номеру дебетовой карты: Номер карты 1111 2222 3333 4444. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Банк отказал в проведении операции”, отсутствие записи в базе данных номера введенной карты.

##### 2.Попытка оплаты тура с не полностью заполненным номером дебетовой карты (ввод 15 цифр): Номер карты 4444 4444 4444 444. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Номер карты”.

##### 3.Попытка оплаты тура с невалидными данными владельца дебетовой карты ( вместо латинских букв используются кириллические): Фамилия и Имя владельца карты: "Иванов Иван". Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Фамилия и Имя владельца карты”. 

##### 4.Попытка оплаты тура с невалидным сроком действия дебетовой карты ( месяц больше 12): Срок действия карты: 13/25. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Срок действия карты”.

##### 5.Попытка оплаты тура с невалидным  CVV кодом дебетовой карты (вместо 3 цифр используются 4): CVV код: 1234. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “CVV код”.

##### 6.Попытка оплаты тура с невалидным месяцем дебетовой карты (менее 1): Срок действия карты: 00/25. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Срок действия карты””.

##### 7.Попытка оплаты тура с невалидным годом дебетовой карты (менее текущего года): Срок действия карты: 07/23. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Срок действия карты истек”.

##### 8.Попытка оплаты тура с заполненным только номером дебетовой карты: Номер карты 4444 4444 4444 4442. Остальные поля пустые. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Не заполнены обязательные поля карты”.

##### 9.Попытка оплаты тура с заполненным только именем владельца дебетовой карты: Имя владельца - Ivanov Ivan. Остальные поля пустые. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Не заполнены обязательные поля карты”.

##### 10.Попытка оплаты тура с заполненным только сроком действия дебетовой карты: Срок действия карты - 07/25. Остальные поля пустые. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Не заполнены обязательные поля карты”.

##### 11.Попытка оплаты тура с заполненным только кодом безопасности дебетовой карты: Код безопасности -123. Остальные поля пустые. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Не заполнены обязательные поля карты”.

##### 12.Попытка оплаты тура с невалидным годом дебетовой карты (более 5 лет вперед от текущей даты): Срок действия карты: 10/45. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Срок действия карты””.

##### 13.Попытка оплаты тура с невалидным форматом номера дебетовой карты: Номер карты: 4444 4444 4444 4442 5 (более 16 цифр). Остальные поля валидные. Нажать кнопку “продолжить”.Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Номер карты”.

##### 14.Попытка оплаты тура с невалидным форматом имени владельца дебетовой карты: Имя владельца: Ivanov Ivan Ivan (более 2 слов). Остальные поля валидные. Нажать кнопку “продолжить”.Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Фамилия и Имя владельца карты”.

##### 15.Попытка оплаты тура с невалидным форматом срока действия дебетовой карты: Срок действия карты: 07/2020 (больше 2 цифр в поле год). Остальные поля валидные. Нажать кнопку “продолжить”.Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Срок действия карты”.

##### 16.Попытка оплаты тура с невалидным форматом CVV кода дебетовой карты: CVV код: 12 (менее 3 цифр). Остальные поля валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “CVV код”.

##### 17.Попытка оплаты тура с невалидными данными владельца дебетовой карты ( вместо латинских букв используются символы в поле Имя и Фамилия): Фамилия и Имя владельца карты: "%;%:?*(@!$". Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Фамилия и Имя владельца карты”. 

##### 18.Попытка оплаты тура с невалидными данными владельца дебетовой карты ( вместо латинских букв вводится 1 цифра в поле Имя и Фамилия): Фамилия и Имя владельца карты: "1". Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Фамилия и Имя владельца карты”. 

##### 19.Попытка оплаты тура с невалидными данными владельца дебетовой карты ( вместо латинских букв вводится 1 кирилическая буква в поле Имя и Фамилия): Фамилия и Имя владельца карты: "А". Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Фамилия и Имя владельца карты”. 


### Негативные сценарии (валидации кредитной карты):

##### 1.Попытка оплаты тура по несуществующему номеру кредитной карты: Номер карты 1111 2222 3333 4444. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Банк отказал в проведении операции”, отсутствие записи в базе данных номера введенной карты.

##### 2.Попытка оплаты тура с не полностью заполненным номером кредитной картой (ввод 15 цифр): Номер карты 4444 4444 4444 444. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Номер карты”.

##### 3.Попытка оплаты тура с невалидными данными владельца кредитной картой ( вместо латинских букв используются кириллические): Фамилия и Имя владельца карты: "Иванов Иван". Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Фамилия и Имя владельца карты”. 

##### 4.Попытка оплаты тура с невалидным сроком действия кредитной картой ( месяц больше 12): Срок действия карты: 13/25. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Срок действия карты”.

##### 5.Попытка оплаты тура с невалидным CVV кодом кредитной картой (вместо 3 цифр используются 4): CVV код: 1234. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “CVV код”.

##### 6.Попытка оплаты тура с невалидным месяцем кредитной карты (менее 1): Срок действия карты: 00/25. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Срок действия карты””.

##### 7.Попытка оплаты тура с невалидным годом кредитной карты (менее текущего года): Срок действия карты: 07/23. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Срок действия карты истек”.

##### 8.Попытка оплаты тура с заполненным только номером кредитной карты: Номер карты 4444 4444 4444 4442. Остальные поля пустые. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Не заполнены обязательные поля карты”.

##### 9.Попытка оплаты тура с заполненным только именем владельца кредитной карты: Имя владельца - Ivanov Ivan. Остальные поля пустые. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Не заполнены обязательные поля карты”.

##### 10.Попытка оплаты тура с заполненным только сроком действия кредитной карты: Срок действия карты - 07/25. Остальные поля пустые. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Не заполнены обязательные поля карты”.

##### 11.Попытка оплаты тура с заполненным только кодом безопасности кредитной карты: Код безопасности -123. Остальные поля пустые. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Не заполнены обязательные поля карты”.
##### 12.Попытка оплаты тура с невалидным годом кредитной карты (более 5 лет вперед от текущей даты): Срок действия карты: 10/45. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Срок действия карты”.

##### 13.Попытка оплаты тура с невалидным форматом номера кредитной карты: Номер карты: 4444 4444 4444 4442 5 (более 16 цифр). Остальные поля валидные. Нажать кнопку “продолжить”.Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Номер карты”.

##### 14.Попытка оплаты тура с невалидным форматом имени владельца кредитной карты: Имя владельца: Ivanov Ivan Ivan (более 2 слов). Остальные поля валидные. Нажать кнопку “продолжить”.Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Фамилия и Имя владельца карты”.

##### 15.Попытка оплаты тура с невалидным форматом срока действия  кредитной карты: Срок действия карты: 07/2020 (больше 2 цифр в поле год). Остальные поля валидные. Нажать кнопку “продолжить”.Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Срок действия карты”.

##### 16.Попытка оплаты тура с невалидным форматом CVV кода кредитной карты: CVV код: 12 (менее 3 цифр). Остальные поля валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “CVV код”.

##### 17.Попытка оплаты тура с невалидными данными владельца кредитной карты ( вместо латинских букв используются символы в поле Имя и Фамилия): Фамилия и Имя владельца карты: "%;%:?*(@!$". Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Фамилия и Имя владельца карты”. 

##### 18.Попытка оплаты тура с невалидными данными владельца кредитной карты ( вместо латинских букв вводится 1 цифра в поле Имя и Фамилия): Фамилия и Имя владельца карты: "1". Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Фамилия и Имя владельца карты”. 

##### 19.Попытка оплаты тура с невалидными данными владельца кредитной карты ( вместо латинских букв вводится 1 кирилическая буква в поле Имя и Фамилия): Фамилия и Имя владельца карты: "А". Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Неверно заполнено поле “Фамилия и Имя владельца карты”. 




### Негативные сценарии ( оплата тура дебитовой картой ): 

##### 1.Попытка оплаты тура с недостаточным балансом на дебетовой карте: Номер карты 4444 4444 4444 4442. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Недостаточный баланс на карте”.

##### 2.Попытка оплаты тура с ограничениями на проведение операций на дебетовой карте: Номер карты 4444 4444 4444 4442. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Ограничения на проведение операций”.

##### 3.Попытка оплаты тура с заблокированной дебетовой карты: Номер карты: 4444 4444 4444 4442 (заблокирована). Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Карта заблокирована”.


### Негативные сценарии (оплата тура кредитной картой):

##### 1.Попытка оплаты тура с недостаточным балансом на кредитной картой: Номер карты 4444 4444 4444 4442. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Недостаточный баланс на карте”.

##### 2.Попытка оплаты тура с недостаточным лимитом на кредитной карте: Номер карты 4444 4444 4444 4442. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Недостаточный лимит на карте”.

##### 3.Попытка оплаты тура с ограничениями на проведение операций на кредитной карте: Номер карты 4444 4444 4444 4442. Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Ограничения на проведение операций”.

##### 4. Попытка оплаты тура с заблокированной кредитной карты: Номер карты: 4444 4444 4444 4442 (заблокирована). Остальные данные валидные. Нажать кнопку “продолжить”. Ожидаемый результат: Появление всплывающего окна с сообщением “Ошибка! Карта заблокирована”.

## 3. Перечень используемых инструментов
#### * IntelliJ IDEA: для разработки и написания автотестов.
#### * JUnit: для написания и выполнения тестов.
#### * Selenide: для автоматизации UI-тестирования.
#### * RestAssured: для тестирования API.
#### * PostgreSQL/MySQL: для работы с базами данных.
#### * Docker: для контейнеризации приложения и эмулятора банковских сервисов.
#### * Gradle: для управления зависимостями и сборки проекта.
#### * Allure: для создания отчетов о тестировании.
### Обоснование выбора инструментов
#### * IntelliJ IDEA предоставляет удобную среду разработки с поддержкой всех необходимых библиотек и инструментов.
#### * JUnit и Selenide позволяют эффективно тестировать как функциональность, так и пользовательский интерфейс.
#### * RestAssured обеспечивает удобный способ взаимодействия с REST API.
#### * Docker позволяет легко развертывать окружение с необходимыми сервисами и базами данных.
#### * Allure поможет визуализировать результаты тестирования и сделать их более понятными для анализа.

## 4. Перечень и описание возможных рисков при автоматизации
#### * Недостаток документации: может затруднить понимание функциональности приложения.
#### * Изменения в API: могут привести к необходимости доработки тестов.
#### * Проблемы с окружением: ошибки при настройке Docker могут повлиять на тестирование.
#### * Нестабильность эмуляторов: могут не всегда корректно обрабатывать запросы.

## 5. Интервальная оценка с учётом рисков в часах
#### * Планирование автоматизации: 12 часов
#### * Написание автотестов: 24 часа
#### * Прогон тестов и отладка: 16 часов
#### * Подготовка отчётных документов: 8 часов
#### * Всего: 60 часов

## 6. План сдачи работ
#### * Автотесты будут готовы через 2 недели.
#### * Результаты прогона тестов будут представлены в течение 2 дней после завершения написания тестов.
#### * Отчёт по автоматизации будет оформлен в течение 2 дней после завершения тестирования.

## 7. Отчёты
#### Отчёт  по итогам тестирования будет оформлен в виде файла Report.md и загружен в папку "Documents". Отчёт  по итогам автоматизации будет оформлен в виде файла Summary.md и загружен в папку "Documents". Папка Documents будет содержать всю информацию о выполненных этапах, результатах тестирования, а также рекомендации по улучшению.

## 8. Заключение
#### Данный тест-план служит основой для автоматизации тестирования веб-сервиса, взаимодействующего с СУБД и API банков. Он охватывает все аспекты, включая автоматизацию позитивных и негативных сценариев, выбор инструментов, оценку рисков и план сдачи работ.
